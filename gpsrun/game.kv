#: import MapView kivy_garden
WindowManager:
    FirstW:
    GpsRun:
    GameOver:
    WinW:

<FirstW>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Bienvenido a GpsRun \n ¿Quieres Jugar?"
            font_size: 32
            halign: "center"

        Button:
            text: "Ok"
            font_size: 32
            on_release: app.root.current = 'gpsrun'

<GpsRun>:
    markup: True

    TabbedPanel:
        do_default_tab: False
        tab_width: root.width / 3
        
        TabbedPanelItem:
            text: "Desafío"

            BoxLayout:
                orientation: "vertical"

                Label: 
                    text: "Acertijo...."
                Label:
                    text: "Tienes 3 minutos"
                    

        TabbedPanelItem:
            text: "Mapa"

            BoxLayout:
                orientation: "vertical"
                MapView:
                    lat: -38.7479046686124
                    lon: -72.61820599434628
                    zoom: 100
                    on_zoom: 100 if self.zoom < 100 else self.zoom
                    MapMarkerPopup:
                        lat: root.app_lat
                        lon: root.app_lon

        TabbedPanelItem:
            text: "Tiempo Restante"

            BoxLayout:
                orientation: "vertical"

                Label: 
                    text: root.cont + " segundos restantes"
                    font_size: 60

            
<GameOver>:
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Se acabó el tiempo..."
<WinW>:
    BoxLayout:
        orientation:"vertical"

        Label: 
            text: "Lo lograste!"
    