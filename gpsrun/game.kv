#:kivy 2.1.0
#:import MapView kivy_garden
WindowManager:
    FirstW:
    GpsRun:
    GameOver:
    WinW:

<FirstW>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Bienvenido a GpsRun \n ¿Quieres Jugar?"
            font_size: 32
            halign: "center"

        Button:
            text: "Ok"
            font_size: 32
            on_release: app.root.current = 'gpsrun'

<GpsRun>:
    markup: True

    TabbedPanel:
        do_default_tab: False
        tab_width: root.width / 3
        
        TabbedPanelItem:
            text: "Desafío"

            BoxLayout:
                orientation: "vertical"

                Label: 
                    text: "Acertijo...."
                Label:
                    text: "Tienes 3 minutos"
                    

        TabbedPanelItem:
            text: "Mapa"

            BoxLayout:
                orientation: "vertical"
                GpsRunMapView:
                    lat: -38.746639244298464
                    lon: -72.61560718899622
                    zoom: 18
                    on_zoom: 100 if self.zoom < 100 else self.zoom
                    on_lat: self.add_player(), self.start_getting_objectives_in_fov()
                    on_lon: self.add_player(), self.start_getting_objectives_in_fov()

        TabbedPanelItem:
            text: "Tiempo Restante"

            BoxLayout:
                orientation: "vertical"

                Label: 
                    text: root.cont + " segundos restantes"
                    font_size: 60

            
<GameOver>:
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Se acabó el tiempo..."
<WinW>:
    BoxLayout:
        orientation:"vertical"

        Label: 
            text: "Lo lograste!"
    